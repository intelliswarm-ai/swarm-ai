spring:
  application:
    name: swarmai-framework
  
  ai:
    openai:
      api-key: ${OPENAI_API_KEY:}
      chat:
        options:
          model: gpt-4o-mini
          temperature: 0.7
    
    anthropic:
      api-key: ${ANTHROPIC_API_KEY:}
      chat:
        options:
          model: claude-3-sonnet-20240229
          temperature: 0.7
    
    ollama:
      base-url: ${OLLAMA_BASE_URL:http://localhost:11434}
      chat:
        options:
          model: llama3.2
          temperature: 0.7

swarmai:
  default:
    max-rpm: 30
    max-execution-time: 300000  # 5 minutes in milliseconds
    verbose: false
    language: en
    
  memory:
    enabled: true
    provider: in-memory  # Options: in-memory, redis, postgresql
    
  knowledge:
    enabled: true
    provider: chroma  # Options: chroma, pgvector, in-memory
    
  telemetry:
    enabled: true
    export-interval: 30000  # 30 seconds

  observability:
    enabled: true
    structured-logging-enabled: true
    tool-tracing-enabled: true
    decision-tracing-enabled: false  # Enable for debugging (higher overhead)
    replay-enabled: true
    metrics-enabled: true

    replay:
      store-type: in-memory  # Options: in-memory, file
      store-directory: ./observability/events
      retention-days: 7
      max-events-in-memory: 10000

    decision:
      capture-prompts: true
      capture-responses: true
      max-prompt-length: 10000
      max-response-length: 10000

    metrics:
      prefix: swarm
      histogram-percentiles-enabled: true
      percentiles: 0.5, 0.9, 0.95, 0.99

# Stock analysis tool configuration
stock:
  search:
    # Google Custom Search API for general web search
    # Get free API key from: https://developers.google.com/custom-search/v1/overview
    # Create custom search engine at: https://cse.google.com/cse/
    google:
      api-key: ${GOOGLE_API_KEY:}  # Set your Google API key here
      search-engine-id: ${GOOGLE_SEARCH_ENGINE_ID:}  # Set your Custom Search Engine ID
      
    # Bing Search API for general web search
    # Get free API key from: https://www.microsoft.com/en-us/bing/apis/bing-web-search-api
    bing:
      api-key: ${BING_API_KEY:}  # Set your Bing Search API key here
      
    # Alpha Vantage API for market data and company overviews
    # Get free API key from: https://www.alphavantage.co/support/#api-key
    alphavantage:
      api-key: demo  # Replace with your Alpha Vantage API key
      
    # NewsAPI for financial news aggregation  
    # Get free API key from: https://newsapi.org/register
    newsapi:
      api-key: ${NEWSAPI_KEY:}  # Set your NewsAPI key here
      
    # Finnhub for stock news and market data
    # Get free API key from: https://finnhub.io/register
    finnhub:
      api-key: ${FINNHUB_API_KEY:}  # Set your Finnhub API key here
      
    # Polygon.io for market data (optional)
    # Get API key from: https://polygon.io/
    polygon:
      api-key: ${POLYGON_API_KEY:}  # Set your Polygon.io API key here
      
    # Rate limiting and caching
    rate-limit:
      requests-per-minute: 60
      cache-ttl-minutes: 5

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,env
  endpoint:
    health:
      show-details: when-authorized
      
logging:
  level:
    ai.intelliswarm.swarmai: DEBUG
    org.springframework.ai: INFO
    root: INFO
  pattern:
    # Include MDC fields for correlation: correlationId, traceId, swarmId, agentId, taskId
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level [%X{correlationId:-}] %logger{36} - %msg%n"